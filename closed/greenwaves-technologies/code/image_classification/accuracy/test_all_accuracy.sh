DIR="logs"
if [ ! -d "$DIR" ]; then
  # Take action if $DIR doesn't exists. #
  mkdir ${DIR}
fi

# python test_accuracy_tflite.py --tflite_model ../model/pretrainedResnet.tflite       --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --log_file ${DIR}/ic_accuracy_tflite_float.txt
# python test_accuracy_tflite.py --tflite_model ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --log_file ${DIR}/ic_accuracy_tflite_quant.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --run_float --log_file ${DIR}/ic_accuracy_float32.txt

# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant int8_quant --log_file ${DIR}/ic_accuracy_int8_quant_w8.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16_quant --weight_bits 8 --log_file ${DIR}/ic_accuracy_ne16_quant_w8.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16_quant --weight_bits 7 --log_file ${DIR}/ic_accuracy_ne16_quant_w7.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16_quant --weight_bits 6 --log_file ${DIR}/ic_accuracy_ne16_quant_w6.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16_quant --weight_bits 5 --log_file ${DIR}/ic_accuracy_ne16_quant_w5.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16_quant --weight_bits 4 --log_file ${DIR}/ic_accuracy_ne16_quant_w4.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16_quant --weight_bits 3 --log_file ${DIR}/ic_accuracy_ne16_quant_w3.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16_quant --weight_bits 2 --log_file ${DIR}/ic_accuracy_ne16_quant_w2.txt

# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant int8 --calibration_file "../model/nntool_calibration_fp32tflite.pickle"                 --log_file ${DIR}/ic_accuracy_int8_w8.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 8 --log_file ${DIR}/ic_accuracy_ne16_w8.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 7 --log_file ${DIR}/ic_accuracy_ne16_w7.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 6 --log_file ${DIR}/ic_accuracy_ne16_w6.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 5 --log_file ${DIR}/ic_accuracy_ne16_w5.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 4 --log_file ${DIR}/ic_accuracy_ne16_w4.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 3 --log_file ${DIR}/ic_accuracy_ne16_w3.txt
# python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 2 --log_file ${DIR}/ic_accuracy_ne16_w2.txt

python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant int8 --calibration_file "../model/nntool_calibration_fp32tflite.pickle"                 --clip_type std5 --log_file ${DIR}/ic_accuracy_int8_w8_std5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 8 --clip_type std5 --log_file ${DIR}/ic_accuracy_ne16_w8_std5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 7 --clip_type std5 --log_file ${DIR}/ic_accuracy_ne16_w7_std5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 6 --clip_type std5 --log_file ${DIR}/ic_accuracy_ne16_w6_std5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 5 --clip_type std5 --log_file ${DIR}/ic_accuracy_ne16_w5_std5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 4 --clip_type std5 --log_file ${DIR}/ic_accuracy_ne16_w4_std5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 3 --clip_type std5 --log_file ${DIR}/ic_accuracy_ne16_w3_std5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 2 --clip_type std5 --log_file ${DIR}/ic_accuracy_ne16_w2_std5.txt

python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant int8 --calibration_file "../model/nntool_calibration_fp32tflite.pickle"                 --clip_type std7 --log_file ${DIR}/ic_accuracy_int8_w8_std7.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 8 --clip_type std7 --log_file ${DIR}/ic_accuracy_ne16_w8_std7.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 7 --clip_type std7 --log_file ${DIR}/ic_accuracy_ne16_w7_std7.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 6 --clip_type std7 --log_file ${DIR}/ic_accuracy_ne16_w6_std7.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 5 --clip_type std7 --log_file ${DIR}/ic_accuracy_ne16_w5_std7.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 4 --clip_type std7 --log_file ${DIR}/ic_accuracy_ne16_w4_std7.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 3 --clip_type std7 --log_file ${DIR}/ic_accuracy_ne16_w3_std7.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 2 --clip_type std7 --log_file ${DIR}/ic_accuracy_ne16_w2_std7.txt

python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant int8 --calibration_file "../model/nntool_calibration_fp32tflite.pickle"                 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_int8_w8_wstd5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 8 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_ne16_w8_wstd5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 7 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_ne16_w7_wstd5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 6 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_ne16_w6_wstd5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 5 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_ne16_w5_wstd5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 4 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_ne16_w4_wstd5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 3 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_ne16_w3_wstd5.txt
python test_accuracy_nntool.py --model_path ../model/pretrainedResnet_quant.tflite --dataset_path ../datasets/perf_samples/ --ann_file ../datasets/y_labels.csv --nntool_quant ne16 --calibration_file "../model/nntool_calibration_fp32tflite.pickle" --weight_bits 2 --clip_type_weights std5 --log_file ${DIR}/ic_accuracy_ne16_w2_wstd5.txt